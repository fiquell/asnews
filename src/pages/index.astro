---
import type { Article } from "@interfaces/newsapi"
import Layout from "@layouts/Layout.astro"
import { FTopHeadlines } from "@lib/newsapi"
import slug from "@lib/slug"

const articles = await FTopHeadlines<Article[]>({
  endpoint: "top-headlines",
  country: "us",
  category: "technology",
  wrappedByKey: "articles"
})
---

<Layout>
  <section class="flex flex-col mt-10">
    {
      articles.map((article) => (
        <a
          href={`/blog/${slug(article.title)}`}
          class="hover:underline truncate py-2">
          {article.title}
        </a>
      ))
    }
  </section>
</Layout>
